plist   = require 'plist'

express = require 'express'
morgan  = require 'morgan'

app = express()

app.use morgan 'dev'

`
var images = [ { title: 'Phish 10',
    owner: 'michaelz1',
    url: 'https://farm8.staticflickr.com/7538/15558476158_5d97346927_b.jpg' },
  { title: 'Page McConnell 2',
    owner: 'michaelz1',
    url: 'https://farm8.staticflickr.com/7523/15741991651_b36dce1e7e_b.jpg' },
  { title: 'Phans',
    owner: 'michaelz1',
    url: 'https://farm6.staticflickr.com/5616/15745437392_5f9b87406a_b.jpg' },
  { title: 'Phish 8',
    owner: 'michaelz1',
    url: 'https://farm4.staticflickr.com/3940/15558475408_100e7a19e7_b.jpg' },
  { title: 'Phish 9',
    owner: 'michaelz1',
    url: 'https://farm4.staticflickr.com/3944/15558736257_a5f5a97d5b_b.jpg' },
  { title: 'Mike Gordon 2',
    owner: 'michaelz1',
    url: 'https://farm4.staticflickr.com/3943/15720195126_e0e5f5437c_b.jpg' },
  { title: 'Phish 7',
    owner: 'michaelz1',
    url: 'https://farm8.staticflickr.com/7558/15743902895_6f4afc7727_b.jpg' },
  { title: 'Trey Anastasio 2',
    owner: 'michaelz1',
    url: 'https://farm8.staticflickr.com/7529/15743903085_16e5364e87_b.jpg' },
  { title: 'Phan',
    owner: 'michaelz1',
    url: 'https://farm8.staticflickr.com/7528/15745436132_bde6c3b799_b.jpg' },
  { title: 'Jon Fishman 2',
    owner: 'michaelz1',
    url: 'https://farm4.staticflickr.com/3944/15720194586_4265822c9c_b.jpg' },
  { title: 'Phish 6',
    owner: 'michaelz1',
    url: 'https://farm4.staticflickr.com/3944/15743902355_630fa5950f_b.jpg' },
  { title: 'Phish 5',
    owner: 'michaelz1',
    url: 'https://farm9.staticflickr.com/8406/15720194256_ab8df33831_b.jpg' },
  { title: 'Phish 4',
    owner: 'michaelz1',
    url: 'https://farm4.staticflickr.com/3946/15123955674_18e2e88719_b.jpg' },
  { title: 'Phish 3',
    owner: 'michaelz1',
    url: 'https://farm4.staticflickr.com/3942/15558734537_237584036f_b.jpg' },
  { title: 'Phish 2',
    owner: 'michaelz1',
    url: 'https://farm4.staticflickr.com/3941/15745435032_566621301a_b.jpg' },
  { title: 'Page McConnell 1',
    owner: 'michaelz1',
    url: 'https://farm8.staticflickr.com/7462/15720193006_edc06591b2_b.jpg' },
  { title: 'Jon Fishman 1',
    owner: 'michaelz1',
    url: 'https://farm6.staticflickr.com/5615/15743901215_649e0ce1f5_b.jpg' },
  { title: 'Trey Anastasio 1',
    owner: 'michaelz1',
    url: 'https://farm8.staticflickr.com/7485/15558733547_128da36ff9_b.jpg' },
  { title: 'Mike Gordon 1',
    owner: 'michaelz1',
    url: 'https://farm8.staticflickr.com/7502/15741989271_c916eef583_b.jpg' },
  { title: 'Phish 1',
    owner: 'michaelz1',
    url: 'https://farm8.staticflickr.com/7551/15745434042_30d2a56fc3_b.jpg' },
  { title: 'Bill Graham Civic Auditorium marquee',
    owner: 'michaelz1',
    url: 'https://farm4.staticflickr.com/3954/15559077530_cf98a663f8_b.jpg' },
  { title: 'Phish at The Forum 10/24/2014',
    owner: 'andysternberg',
    url: 'https://farm8.staticflickr.com/7556/15028014153_8956b37643_b.jpg' },
  { title: 'Santa Barbara Bowl Rooftop Terrace Panorama',
    owner: 'andysternberg',
    url: 'https://farm6.staticflickr.com/5612/15410890370_d9fd63bbda_b.jpg' },
  { title: 'Seattle Phish 10/18/14',
    owner: 'Trevor Bexon',
    url: 'https://farm4.staticflickr.com/3941/15594487762_83af783de4_b.jpg' },
  { title: '2014-10-18 21.59.19',
    owner: 'erocsid',
    url: 'https://farm4.staticflickr.com/3934/15403500860_f03d631190_b.jpg' },
  { title: '2014-10-18 21.11.53',
    owner: 'erocsid',
    url: 'https://farm4.staticflickr.com/3941/14968961183_e004fae99c_b.jpg' },
  { title: '2014-10-18 20.24.05',
    owner: 'erocsid',
    url: 'https://farm6.staticflickr.com/5612/14968368504_a1b6752487_b.jpg' },
  { title: '2014-10-18 20.27.10',
    owner: 'erocsid',
    url: 'https://farm4.staticflickr.com/3955/15403104557_3ba53d05c6_b.jpg' },
  { title: '2014-10-18 20.24.34',
    owner: 'erocsid',
    url: 'https://farm6.staticflickr.com/5613/15402997758_71c6213899_b.jpg' },
  { title: '2014-10-18 20.11.01',
    owner: 'erocsid',
    url: 'https://farm4.staticflickr.com/3949/15586448241_10447a734f_b.jpg' },
  { title: '2014-10-18 19.48.18',
    owner: 'erocsid',
    url: 'https://farm4.staticflickr.com/3949/15586448201_eaef5e564d_b.jpg' },
  { title: 'Phish - Eugene, Oregon - 10/17/14',
    owner: 'Trevor Bexon',
    url: 'https://farm6.staticflickr.com/5608/15605381425_1c04dd94da_b.jpg' },
  { title: 'Phish',
    owner: 'Shan213',
    url: 'https://farm4.staticflickr.com/3889/14640615378_86bf704747_b.jpg' },
  { title: 'Phish',
    owner: 'Shan213',
    url: 'https://farm3.staticflickr.com/2913/14640706797_d3556680d3_b.jpg' },
  { title: 'Shakedown',
    owner: 'Shan213',
    url: 'https://farm4.staticflickr.com/3850/14826888192_7354723f52_b.jpg' },
  { title: 'IMG_4943',
    owner: 'Nate Merrill',
    url: 'https://farm6.staticflickr.com/5582/14896779821_7f8d3fc2a0_b.jpg' },
  { title: 'IMG_4941',
    owner: 'Nate Merrill',
    url: 'https://farm4.staticflickr.com/3886/14713158340_9829174c25_b.jpg' },
  { title: 'IMG_4940',
    owner: 'Nate Merrill',
    url: 'https://farm6.staticflickr.com/5557/14876837416_86eef747b8_b.jpg' },
  { title: 'IMG_4939',
    owner: 'Nate Merrill',
    url: 'https://farm4.staticflickr.com/3917/14713295587_65f20efb57_b.jpg' },
  { title: 'IMG_4937',
    owner: 'Nate Merrill',
    url: 'https://farm6.staticflickr.com/5591/14899827335_62c3afc209_b.jpg' },
  { title: 'IMG_4938',
    owner: 'Nate Merrill',
    url: 'https://farm6.staticflickr.com/5573/14899826925_2e8c5f7468_b.jpg' },
  { title: 'IMG_4935',
    owner: 'Nate Merrill',
    url: 'https://farm4.staticflickr.com/3926/14713227508_2b323d4857_b.jpg' },
  { title: 'IMG_4936',
    owner: 'Nate Merrill',
    url: 'https://farm6.staticflickr.com/5596/14896782351_c0e29a8d87_b.jpg' },
  { title: 'IMG_4934',
    owner: 'Nate Merrill',
    url: 'https://farm6.staticflickr.com/5592/14896782601_c59d7514cb_b.jpg' },
  { title: 'IMG_4933',
    owner: 'Nate Merrill',
    url: 'https://farm6.staticflickr.com/5579/14896783801_c94eca7a4d_b.jpg' },
  { title: 'IMG_4922',
    owner: 'Nate Merrill',
    url: 'https://farm4.staticflickr.com/3913/14713167730_924fc7ef95_b.jpg' },
  { title: 'IMG_4918',
    owner: 'Nate Merrill',
    url: 'https://farm4.staticflickr.com/3870/14713203769_6888d8ca60_b.jpg' },
  { title: 'IMG_4917',
    owner: 'Nate Merrill',
    url: 'https://farm4.staticflickr.com/3913/14713170140_ae101e9e6b_b.jpg' },
  { title: 'IMG_4920',
    owner: 'Nate Merrill',
    url: 'https://farm4.staticflickr.com/3896/14713236658_fd810abae7_b.jpg' },
  { title: 'IMG_4921',
    owner: 'Nate Merrill',
    url: 'https://farm4.staticflickr.com/3842/14899502992_34f4541b43_b.jpg' },
  { title: 'IMG_4919',
    owner: 'Nate Merrill',
    url: 'https://farm6.staticflickr.com/5557/14713169090_91b0187a71_b.jpg' },
  { title: 'IMG_4915',
    owner: 'Nate Merrill',
    url: 'https://farm4.staticflickr.com/3858/14713238798_6f2b5eb76f_b.jpg' },
  { title: 'IMG_4912',
    owner: 'Nate Merrill',
    url: 'https://farm4.staticflickr.com/3842/14713207089_2186540fe3_b.jpg' },
  { title: 'IMG_4907',
    owner: 'Nate Merrill',
    url: 'https://farm4.staticflickr.com/3925/14896797201_99517fe41f_b.jpg' },
  { title: 'IMG_4909',
    owner: 'Nate Merrill',
    url: 'https://farm4.staticflickr.com/3872/14899841975_1309d224a1_b.jpg' },
  { title: 'IMG_4908',
    owner: 'Nate Merrill',
    url: 'https://farm6.staticflickr.com/5577/14899842255_a151f8ae81_b.jpg' },
  { title: 'IMG_4911',
    owner: 'Nate Merrill',
    url: 'https://farm4.staticflickr.com/3844/14713173560_5e97d28fff_b.jpg' },
  { title: 'IMG_4910',
    owner: 'Nate Merrill',
    url: 'https://farm4.staticflickr.com/3888/14713309467_a229ac6ed4_b.jpg' },
  { title: 'IMG_4904',
    owner: 'Nate Merrill',
    url: 'https://farm4.staticflickr.com/3925/14713244598_410b63f98d_b.jpg' },
  { title: 'IMG_4901',
    owner: 'Nate Merrill',
    url: 'https://farm6.staticflickr.com/5574/14713245238_24af1f53c4_b.jpg' },
  { title: 'IMG_4900',
    owner: 'Nate Merrill',
    url: 'https://farm6.staticflickr.com/5596/14876856396_7e864ea825_b.jpg' },
  { title: 'IMG_4903',
    owner: 'Nate Merrill',
    url: 'https://farm4.staticflickr.com/3872/14713211249_f021b7dc4e_b.jpg' },
  { title: 'IMG_4902',
    owner: 'Nate Merrill',
    url: 'https://farm4.staticflickr.com/3862/14899845395_87122c8820_b.jpg' },
  { title: 'IMG_4896',
    owner: 'Nate Merrill',
    url: 'https://farm6.staticflickr.com/5575/14876856726_f4af412eee_b.jpg' },
  { title: 'IMG_4899',
    owner: 'Nate Merrill',
    url: 'https://farm4.staticflickr.com/3855/14713245508_4d5a6350b5_b.jpg' },
  { title: 'IMG_4897',
    owner: 'Nate Merrill',
    url: 'https://farm4.staticflickr.com/3912/14713178420_821ebe58a5_b.jpg' },
  { title: 'IMG_4898',
    owner: 'Nate Merrill',
    url: 'https://farm6.staticflickr.com/5574/14876856476_3fe1884115_b.jpg' },
  { title: 'Tompkin Square Park Concert',
    owner: 'eventphotosnyc',
    url: 'https://farm6.staticflickr.com/5225/14089423321_84ff560f38_b.jpg' },
  { title: 'Tompkin Square Park Concert',
    owner: 'eventphotosnyc',
    url: 'https://farm8.staticflickr.com/7383/13906055148_02448339a5_b.jpg' },
  { title: 'Tompkins Square Park Concert',
    owner: 'eventphotosnyc',
    url: 'https://farm8.staticflickr.com/7192/13906051698_ee0c5194c1_b.jpg' },
  { title: 'Sofus band',
    owner: 'eventphotosnyc',
    url: 'https://farm3.staticflickr.com/2920/14112712493_c1d277984d_b.jpg' },
  { title: 'Phish Tix Arrived!',
    owner: 'Shan213',
    url: 'https://farm3.staticflickr.com/2898/14113770516_cb9e66906d_b.jpg' },
  { title: 'PHISH',
    owner: 'Laurel L. Russwurm',
    url: 'https://farm6.staticflickr.com/5550/12395604404_e5bac8f767_b.jpg' },
  { title: 'Trey Anastasio Band - Pabst Theater, Milwaukee, WI - Feb 5, 2014',
    owner: 'eytonz',
    url: 'https://farm8.staticflickr.com/7368/12419496825_797af13958_b.jpg' },
  { title: 'Trey Anastasio Band - Pabst Theater, Milwaukee, WI - Feb 5, 2014',
    owner: 'eytonz',
    url: 'https://farm8.staticflickr.com/7341/12420037044_a33960df23_b.jpg' },
  { title: 'Trey Anastasio Band - Pabst Theater, Milwaukee, WI - Feb 5, 2014',
    owner: 'eytonz',
    url: 'https://farm3.staticflickr.com/2867/12419544355_3955cbf627_b.jpg' },
  { title: 'Trey Anastasio Band - Pabst Theater, Milwaukee, WI - Feb 5, 2014',
    owner: 'eytonz',
    url: 'https://farm3.staticflickr.com/2848/12419688623_7c0ca009f6_b.jpg' },
  { title: 'Trey Anastasio Band - Pabst Theater, Milwaukee, WI - Feb 5, 2014',
    owner: 'eytonz',
    url: 'https://farm8.staticflickr.com/7406/12419690793_872d9c1071_b.jpg' },
  { title: 'Trey Anastasio Band - Pabst Theater, Milwaukee, WI - Feb 5, 2014',
    owner: 'eytonz',
    url: 'https://farm3.staticflickr.com/2874/12419686773_4b885cf6cf_b.jpg' },
  { title: 'Trey Anastasio Band - Pabst Theater, Milwaukee, WI - Feb 5, 2014',
    owner: 'eytonz',
    url: 'https://farm4.staticflickr.com/3821/12420029044_8a3fd08687_b.jpg' },
  { title: 'Trey Anastasio Band - Pabst Theater, Milwaukee, WI - Feb 5, 2014',
    owner: 'eytonz',
    url: 'https://farm4.staticflickr.com/3776/12419541385_0b03d8cc3b_b.jpg' },
  { title: 'Trey Anastasio Band - Pabst Theater, Milwaukee, WI - Feb 5, 2014',
    owner: 'eytonz',
    url: 'https://farm8.staticflickr.com/7401/12419682763_51a2c6fa0e_b.jpg' },
  { title: 'Trey Anastasio Band - Pabst Theater, Milwaukee, WI - Feb 5, 2014',
    owner: 'eytonz',
    url: 'https://farm8.staticflickr.com/7374/12419538985_9596f6af37_b.jpg' },
  { title: 'Trey Anastasio Band - Pabst Theater, Milwaukee, WI - Feb 5, 2014',
    owner: 'eytonz',
    url: 'https://farm6.staticflickr.com/5480/12419681603_823fd483d3_b.jpg' },
  { title: 'Trey Anastasio Band - Pabst Theater, Milwaukee, WI - Feb 5, 2014',
    owner: 'eytonz',
    url: 'https://farm8.staticflickr.com/7424/12420023514_95b76f0768_b.jpg' },
  { title: 'Trey Anastasio Band - Pabst Theater, Milwaukee, WI - Feb 5, 2014',
    owner: 'eytonz',
    url: 'https://farm4.staticflickr.com/3678/12420022964_d11ec9b926_b.jpg' },
  { title: 'Trey Anastasio Band - Pabst Theater, Milwaukee, WI - Feb 5, 2014',
    owner: 'eytonz',
    url: 'https://farm4.staticflickr.com/3803/12419530335_716f51e475_b.jpg' },
  { title: 'Trey Anastasio Band - Pabst Theater, Milwaukee, WI - Feb 5, 2014',
    owner: 'eytonz',
    url: 'https://farm8.staticflickr.com/7362/12419534775_6b89490f58_b.jpg' },
  { title: 'Trey Anastasio Band - Pabst Theater, Milwaukee, WI - Feb 5, 2014',
    owner: 'eytonz',
    url: 'https://farm8.staticflickr.com/7390/12419537525_4b0471d487_b.jpg' },
  { title: 'Trey Anastasio Band - Pabst Theater, Milwaukee, WI - Feb 5, 2014',
    owner: 'eytonz',
    url: 'https://farm8.staticflickr.com/7444/12419671823_542b3a2b86_b.jpg' },
  { title: 'Trey Anastasio Band - Pabst Theater, Milwaukee, WI - Feb 5, 2014',
    owner: 'eytonz',
    url: 'https://farm8.staticflickr.com/7373/12420015594_7b5b876690_b.jpg' },
  { title: 'Trey Anastasio Band - Pabst Theater, Milwaukee, WI - Feb 5, 2014',
    owner: 'eytonz',
    url: 'https://farm8.staticflickr.com/7434/12419533155_565f0ef894_b.jpg' },
  { title: 'Trey Anastasio Band - Pabst Theater, Milwaukee, WI - Feb 5, 2014',
    owner: 'eytonz',
    url: 'https://farm3.staticflickr.com/2865/12420017544_89bb121718_b.jpg' },
  { title: 'Trey Anastasio Band - Pabst Theater, Milwaukee, WI - Feb 5, 2014',
    owner: 'eytonz',
    url: 'https://farm8.staticflickr.com/7410/12419676113_dac050e7ca_b.jpg' },
  { title: 'Trey Anastasio Band - Pabst Theater, Milwaukee, WI - Feb 5, 2014',
    owner: 'eytonz',
    url: 'https://farm3.staticflickr.com/2810/12419670003_60f4560c50_b.jpg' },
  { title: 'Trey Anastasio Band - Pabst Theater, Milwaukee, WI - Feb 5, 2014',
    owner: 'eytonz',
    url: 'https://farm8.staticflickr.com/7386/12419527535_a4a6f4aee2_b.jpg' },
  { title: 'Trey Anastasio Band - Pabst Theater, Milwaukee, WI - Feb 5, 2014',
    owner: 'eytonz',
    url: 'https://farm4.staticflickr.com/3679/12419527125_5b0e83bb34_b.jpg' },
  { title: 'Trey Anastasio Band - Pabst Theater, Milwaukee, WI - Feb 5, 2014',
    owner: 'eytonz',
    url: 'https://farm4.staticflickr.com/3822/12419669093_09f7615f56_b.jpg' },
  { title: 'Trey Anastasio Band - Pabst Theater, Milwaukee, WI - Feb 5, 2014',
    owner: 'eytonz',
    url: 'https://farm8.staticflickr.com/7381/12419525935_18d2a95d5d_b.jpg' },
  { title: 'Trey Anastasio Band - Pabst Theater, Milwaukee, WI - Feb 5, 2014',
    owner: 'eytonz',
    url: 'https://farm4.staticflickr.com/3728/12419526485_77f47b4626_b.jpg' } ]
`

app.get "/app-config.plist", (req, res) ->
	res.set 'Content-Type', 'application/x-plist'
	res.send plist.build({
		'api_domain': 'phishin.app.alecgorge.com',
		'mp3_domain': 'phishin.app.alecgorge.com',
		'images': images
	}).toString()

port = process.env['PORT'] || 8132

console.log "Available at http://localhost:#{port}"
app.listen port
